<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>3Dmol Viewer - Custom Colours and Labels</title>
  <script src="https://3dmol.org/build/3Dmol-min.js"></script>
  <style>
    html, body { margin: 0; height: 100%; overflow: hidden; }
    #viewer { width: 100%; height: 100%; }
  </style>
</head>
<body>
  <div id="viewer"></div>
  <script>
    const viewer = $3Dmol.createViewer("viewer", {
      backgroundColor: "white"
    });

    $3Dmol.download("cid:79014", viewer, {}, function () {
      viewer.setStyle({}, {
        stick: {
          colorscheme: {
            C: "black", // Carbon = black
            O: "red",
            N: "blue",
            H: "lightgrey",
            S: "yellow",
            default: "teal"
          }
        }
      });

      // Add rotating atom-attached labels
      const atoms = viewer.selectedAtoms({});
      atoms.forEach(atom => {
        viewer.addLabel(atom.elem, {
          position: atom,
          backgroundColor: "white",
          backgroundOpacity: 0.7,
          fontColor: "black",
          fontSize: 12,
          inFront: false,
          showBackground: true,
          alignment: 'center'
        });
      });

      viewer.zoomTo();
      viewer.render();
    });
  </script>
</body>
</html>
